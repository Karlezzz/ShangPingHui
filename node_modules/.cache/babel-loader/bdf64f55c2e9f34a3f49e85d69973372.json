{"ast":null,"code":"export default {\n  name: 'Pagination',\n  props: ['pageNo', 'pageSize', 'total', 'continues'],\n  computed: {\n    totalPage() {\n      return Math.ceil(this.total / this.pageSize);\n    },\n\n    continuesPage() {\n      setTimeout(() => {\n        let start,\n            end = 0;\n        const {\n          totalPage,\n          continues,\n          pageNo\n        } = this;\n\n        if (totalPage >= continues + 4) {\n          if (pageNo >= continues && pageNo <= totalPage - continues + 1) {\n            start = pageNo - parseInt(continues / 2);\n          } else {\n            if (pageNo < continues) {\n              start = 1;\n            } else if (pageNo > totalPage - continues + 1) {\n              start = totalPage - continues + 1;\n            }\n          }\n\n          end = start + continues - 1;\n        } else {\n          start = 1;\n          end = totalPage;\n        }\n\n        return {\n          start,\n          end\n        };\n      }, 500);\n    }\n\n  },\n  methods: {\n    getPageNo(pageNo) {\n      this.$emit('getPageNo', pageNo);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAyBA;EACAA,kBADA;EAEAC,mDAFA;EAGAC;IACAC;MACA;IACA,CAHA;;IAIAC;MAEAC;QACA;QAAA;QACA;UACAF,SADA;UAEAG,SAFA;UAGAC;QAHA,IAIA,IAJA;;QAKA;UACA;YACAC;UACA,CAFA,MAEA;YACA;cACAA;YACA,CAFA,MAEA;cACAA;YACA;UACA;;UACAC;QACA,CAXA,MAWA;UACAD;UACAC;QACA;;QACA;UACAD,KADA;UAEAC;QAFA;MAIA,CA1BA,EA0BA,GA1BA;IA4BA;;EAlCA,CAHA;EAwCAC;IACAC;MACA;IACA;;EAHA;AAxCA","names":["name","props","computed","totalPage","continuesPage","setTimeout","continues","pageNo","start","end","methods","getPageNo"],"sourceRoot":"src/components/Pagination","sources":["Pagination.vue"],"sourcesContent":["<template>\r\n    <div class=\"pagination\">\r\n        <button :disabled=\"pageNo === 1\" @click=\"getPageNo(pageNo-1)\">上一页</button>\r\n\r\n        <button v-if=\"continuesPage.start > 1\" @click=\"$emit('getPageNo',1)\" :class=\"{active:pageNo===1}\">1</button>\r\n        <button v-if=\"continuesPage.start > 2\">···</button>\r\n\r\n        <button v-for=\"(page,index) in pageContinuesEnd\" :key=\"index\"\r\n            v-if=\"page>=continuesPage.start&&page<=continuesPage.end\" @click=\"getPageNo(page)\"\r\n            :class=\"{active:pageNo===page}\">\r\n            {{page}}\r\n        </button>\r\n\r\n        <button v-if=\"continuesPage.end < totalPage-1\">···</button>\r\n        <button v-if=\"continuesPage.end < totalPage\" @click=\"getPageNo(totalPage)\"\r\n            :class=\"{active:pageNo===totalPage}\">{{totalPage}}</button>\r\n\r\n        <button :disabled=\"pageNo===totalPage\" @click=\"getPageNo(pageNo+1)\">下一页</button>\r\n        <button style=\"margin-left: 30px\">共 {{total}} 条</button>\r\n    </div>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\n    export default {\r\n        name: 'Pagination',\r\n        props: ['pageNo', 'pageSize', 'total', 'continues'],\r\n        computed: {\r\n            totalPage() {\r\n                return Math.ceil(this.total / this.pageSize)\r\n            },\r\n            continuesPage() {\r\n                \r\n                setTimeout(() => {\r\n                    let start, end = 0\r\n                const {\r\n                    totalPage,\r\n                    continues,\r\n                    pageNo\r\n                } = this\r\n                if (totalPage >= continues + 4) {\r\n                    if (pageNo >= continues && pageNo <= totalPage - continues + 1) {\r\n                        start = pageNo - parseInt(continues / 2)\r\n                    } else {\r\n                        if (pageNo < continues) {\r\n                            start = 1\r\n                        } else if (pageNo > totalPage - continues + 1) {\r\n                            start = totalPage - continues + 1\r\n                        }\r\n                    }\r\n                    end = start + continues - 1\r\n                } else {\r\n                    start = 1\r\n                    end = totalPage\r\n                }\r\n                return {\r\n                    start,\r\n                    end\r\n                }\r\n                }, 500);\r\n\r\n            },\r\n            \r\n        },\r\n        methods: {\r\n            getPageNo(pageNo) {\r\n                this.$emit('getPageNo', pageNo)\r\n            }\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .pagination {\r\n        text-align: center;\r\n\r\n        button {\r\n            margin: 0 5px;\r\n            background-color: #f4f4f5;\r\n            color: #606266;\r\n            outline: none;\r\n            border-radius: 2px;\r\n            padding: 0 4px;\r\n            vertical-align: top;\r\n            display: inline-block;\r\n            font-size: 13px;\r\n            min-width: 35.5px;\r\n            height: 28px;\r\n            line-height: 28px;\r\n            cursor: pointer;\r\n            box-sizing: border-box;\r\n            text-align: center;\r\n            border: 0;\r\n\r\n            &[disabled] {\r\n                color: #c0c4cc;\r\n                cursor: not-allowed;\r\n            }\r\n\r\n            &.active {\r\n                cursor: not-allowed;\r\n                background-color: #409eff;\r\n                color: #fff;\r\n            }\r\n        }\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module"}