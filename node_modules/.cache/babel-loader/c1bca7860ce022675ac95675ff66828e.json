{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport { reqAddOrUpdateShopCar, reqGoodsInfo } from \"@/api\";\nimport { getNanoId } from '@/utils/nanoid_token';\nconst state = {\n  goodInfo: {},\n  nanoid_token: getNanoId()\n};\nconst actions = {\n  async getGoodsInfo({\n    commit\n  }, skuid) {\n    let result = await reqGoodsInfo(skuid);\n\n    if (result.code === 200) {\n      commit('GETGOODSINFO', result.data);\n    }\n  },\n\n  async addOrUpdateShopCar({\n    commit\n  }, {\n    skuid,\n    skuNum\n  }) {\n    let result = await reqAddOrUpdateShopCar(skuid, skuNum);\n\n    if (result.code === 200) {\n      return '成功';\n    } else {\n      return Promise.reject(new Error('faile'));\n    }\n  }\n\n};\nconst mutations = {\n  GETGOODSINFO(state, goodInfo) {\n    state.goodInfo = goodInfo;\n  }\n\n};\nconst getters = {\n  categoryView() {\n    return state.goodInfo.categoryView || {};\n  },\n\n  skuInfo() {\n    return state.goodInfo.skuInfo || {};\n  },\n\n  spuSaleAttrList() {\n    return state.goodInfo.spuSaleAttrList || [];\n  }\n\n};\nexport default {\n  state,\n  actions,\n  mutations,\n  getters\n};","map":null,"metadata":{},"sourceType":"module"}