{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'Login',\n\n  data() {\n    return {\n      phone: '',\n      password: ''\n    };\n  },\n\n  methods: {\n    login() {\n      const data = {\n        phone: this.phone,\n        password: this.password\n      };\n\n      if (this.phone && this.password) {\n        this.$store.dispatch('userLogin', data).then(() => {\n          this.$router.push('/home');\n          console.log(this.$store.state);\n          JSON.stringify(sessionStorage.setItem('token', this.$store.state.user.token));\n        }).catch(error => {\n          console.log(error.message);\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":";AAsDA;EACAA,aADA;;EAEAC;IACA;MACAC,SADA;MAEAC;IAFA;EAIA,CAPA;;EAQAC;IACAC;MACA;QACAH,iBADA;QAEAC;MAFA;;MAIA;QACA,wCACAG,IADA,CACA;UACA;UACAC;UACAC;QACA,CALA,EAMAC,KANA,CAMAC;UACAH;QACA,CARA;MASA;IAEA;;EAlBA;AARA","names":["name","data","phone","password","methods","login","then","console","JSON","catch","error"],"sourceRoot":"src/pages/Login","sources":["Login.vue"],"sourcesContent":["<template>\r\n    <div class=\"login-wrap\">\r\n        <div class=\"login\">\r\n            <div class=\"loginform\">\r\n                <ul class=\"tab clearFix\">\r\n                    <li>\r\n                        <a href=\"##\" style=\"border-right: 0;\">扫描登录</a>\r\n                    </li>\r\n                    <li>\r\n                        <a href=\"##\" class=\"current\">账户登录</a>\r\n                    </li>\r\n                </ul>\r\n\r\n                <div class=\"content\">\r\n                    <form action=\"##\">\r\n\r\n                        <div class=\"input-text clearFix\">\r\n                            <i></i>\r\n                            <input type=\"text\" placeholder=\"手机号\" v-model=\"phone\">\r\n                            <span class=\"error-msg\">错误提示信息</span>\r\n                        </div>\r\n\r\n                        <div class=\"input-text clearFix\">\r\n                            <i class=\"pwd\"></i>\r\n                            <input type=\"password\" placeholder=\"请输入密码\" v-model=\"password\">\r\n                            <span class=\"error-msg\">错误提示信息</span>\r\n                        </div>\r\n\r\n                        <div class=\"setting clearFix\">\r\n                            <label class=\"checkbox inline\">\r\n                                <input name=\"m1\" type=\"checkbox\" value=\"2\" checked=\"\">\r\n                                自动登录\r\n                            </label>\r\n                            <span class=\"forget\">忘记密码？</span>\r\n                        </div>\r\n                        <button class=\"btn\" @click.prevent=\"login\">登&nbsp;&nbsp;录</button>\r\n\r\n                    </form>\r\n                    <div class=\"call clearFix\">\r\n                        <ul>\r\n                            <li><img src=\"./images/qq.png\" alt=\"\"></li>\r\n                            <li><img src=\"./images/sina.png\" alt=\"\"></li>\r\n                            <li><img src=\"./images/ali.png\" alt=\"\"></li>\r\n                            <li><img src=\"./images/weixin.png\" alt=\"\"></li>\r\n                        </ul>\r\n                        <router-link to=\"/register\" class=\"register\">立即注册</router-link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'Login',\r\n        data() {\r\n            return {\r\n                phone: '',\r\n                password: ''\r\n            }\r\n        },\r\n        methods: {\r\n            login() {\r\n                const data = {\r\n                    phone: this.phone,\r\n                    password: this.password\r\n                }\r\n                if (this.phone && this.password) {\r\n                    this.$store.dispatch('userLogin', data)\r\n                        .then(() => {\r\n                            this.$router.push('/home')\r\n                            console.log(this.$store.state);\r\n                            JSON.stringify(sessionStorage.setItem('token',this.$store.state.user.token))\r\n                        })\r\n                        .catch((error)=>{\r\n                            console.log(error.message);\r\n                        })\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .login-wrap {\r\n        height: 487px;\r\n        background-color: #e93854;\r\n\r\n        .login {\r\n            width: 1200px;\r\n            height: 487px;\r\n            margin: 0 auto;\r\n            background: url(./images/loginbg.png) no-repeat;\r\n        }\r\n\r\n        .loginform {\r\n            width: 420px;\r\n            height: 406px;\r\n            box-sizing: border-box;\r\n            background: #fff;\r\n            float: right;\r\n            top: 45px;\r\n            position: relative;\r\n            padding: 20px;\r\n\r\n            .tab {\r\n\r\n                li {\r\n                    width: 50%;\r\n                    float: left;\r\n                    text-align: center;\r\n\r\n                    a {\r\n                        width: 100%;\r\n                        display: block;\r\n                        height: 50px;\r\n                        line-height: 50px;\r\n                        font-size: 20px;\r\n                        font-weight: 700;\r\n                        color: #333;\r\n                        border: 1px solid #ddd;\r\n                        box-sizing: border-box;\r\n                        text-decoration: none;\r\n\r\n                    }\r\n\r\n                    .current {\r\n                        border-bottom: none;\r\n                        border-top-color: #28a3ef;\r\n                        color: #e1251b;\r\n                    }\r\n                }\r\n            }\r\n\r\n            .content {\r\n                width: 380px;\r\n                height: 316px;\r\n                box-sizing: border-box;\r\n                border: 1px solid #ddd;\r\n                border-top: none;\r\n                padding: 18px;\r\n\r\n                form {\r\n                    margin: 15px 0 18px 0;\r\n                    font-size: 12px;\r\n                    line-height: 18px;\r\n\r\n                    .input-text {\r\n                        margin-bottom: 22px;\r\n                        position: relative;\r\n\r\n                        i {\r\n                            float: left;\r\n                            width: 37px;\r\n                            height: 32px;\r\n                            border: 1px solid #ccc;\r\n                            background: url(./images/icons.png) no-repeat -10px -201px;\r\n                            box-sizing: border-box;\r\n                            border-radius: 2px 0 0 2px;\r\n                        }\r\n\r\n                        .pwd {\r\n                            background-position: -72px -201px;\r\n                        }\r\n\r\n                        input {\r\n                            width: 302px;\r\n                            height: 32px;\r\n                            box-sizing: border-box;\r\n                            border: 1px solid #ccc;\r\n                            border-left: none;\r\n                            float: left;\r\n                            padding-top: 6px;\r\n                            padding-bottom: 6px;\r\n                            font-size: 14px;\r\n                            line-height: 22px;\r\n                            padding-right: 8px;\r\n                            padding-left: 8px;\r\n\r\n                            border-radius: 0 2px 2px 0;\r\n                            outline: none;\r\n                        }\r\n\r\n                        .error-msg {\r\n                            position: absolute;\r\n                            top: 100%;\r\n                            left: 40px;\r\n                            color: red;\r\n                        }\r\n                    }\r\n\r\n                    .setting {\r\n                        label {\r\n                            float: left;\r\n                        }\r\n\r\n                        .forget {\r\n                            float: right;\r\n                        }\r\n                    }\r\n\r\n                    .btn {\r\n                        background-color: #e1251b;\r\n                        padding: 6px;\r\n                        border-radius: 0;\r\n                        font-size: 16px;\r\n                        font-family: 微软雅黑;\r\n                        word-spacing: 4px;\r\n                        border: 1px solid #e1251b;\r\n                        color: #fff;\r\n                        width: 100%;\r\n                        height: 36px;\r\n                        margin-top: 25px;\r\n                        outline: none;\r\n                        cursor: pointer;\r\n                    }\r\n                }\r\n\r\n                .call {\r\n                    margin-top: 30px;\r\n\r\n                    ul {\r\n                        float: left;\r\n\r\n                        li {\r\n                            float: left;\r\n                            margin-right: 5px;\r\n                        }\r\n                    }\r\n\r\n                    .register {\r\n                        float: right;\r\n                        font-size: 15px;\r\n                        line-height: 38px;\r\n                    }\r\n\r\n                    .register:hover {\r\n                        color: #4cb9fc;\r\n                        text-decoration: underline;\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    .copyright {\r\n        width: 1200px;\r\n        margin: 0 auto;\r\n        text-align: center;\r\n        line-height: 24px;\r\n\r\n        ul {\r\n            li {\r\n                display: inline-block;\r\n                border-right: 1px solid #e4e4e4;\r\n                padding: 0 20px;\r\n                margin: 15px 0;\r\n            }\r\n        }\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module"}